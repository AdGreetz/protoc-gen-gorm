// Code generated by protoc-gen-gogo. DO NOT EDIT.
// source: example/feature_demo/test2.proto

package example

import gorm1 "github.com/jinzhu/gorm"
import context "golang.org/x/net/context"
import proto "github.com/gogo/protobuf/proto"
import fmt "fmt"
import math "math"

// Reference imports to suppress errors if they are not otherwise used.
var _ = proto.Marshal
var _ = fmt.Errorf
var _ = math.Inf

// IntPointORM no comment was provided for message type
type IntPointORM struct {
	X int32
	Y int32
	Z *TypeBecomesEmptyORM
}

func (IntPointORM) TableName() string {
	return "int_points"
}

// ConvertIntPointToORM takes a pb object and returns an orm object
func ConvertIntPointToORM(from IntPoint) IntPointORM {
	to := IntPointORM{}
	to.X = from.X
	to.Y = from.Y
	if from.Z != nil {
		tempZ := ConvertTypeBecomesEmptyToORM(*from.Z)
		to.Z = &tempZ
	}
	return to
}

// ConvertIntPointFromORM takes an orm object and returns a pb object
func ConvertIntPointFromORM(from IntPointORM) IntPoint {
	to := IntPoint{}
	to.X = from.X
	to.Y = from.Y
	if from.Z != nil {
		tempZ := ConvertTypeBecomesEmptyFromORM(*from.Z)
		to.Z = &tempZ
	}
	return to
}

// DefaultCreateIntPoint executes a basic gorm create call
func DefaultCreateIntPoint(ctx context.Context, in *IntPoint, db gorm1.DB) (*IntPoint, error) {
	if in == nil {
		return nil, fmt.Errorf("Nil argument to DefaultCreateIntPoint")
	}
	ormObj := ConvertIntPointToORM(*in)
	db.Create(&ormObj)
	pbResponse := ConvertIntPointFromORM(ormObj)
	return &pbResponse, nil
}

// DefaultReadIntPoint executes a basic gorm read call
func DefaultReadIntPoint(ctx context.Context, in *IntPoint, db gorm1.DB) (*IntPoint, error) {
	if in == nil {
		return nil, fmt.Errorf("Nil argument to DefaultReadIntPoint")
	}
	ormParams := ConvertIntPointToORM(*in)
	ormResponse := IntPointORM{}
	db.Set("gorm:auto_preload", true).Where(&ormParams).First(&ormResponse)
	pbResponse := ConvertIntPointFromORM(ormResponse)
	return &pbResponse, nil
}

// DefaultUpdateIntPoint executes a basic gorm update call
func DefaultUpdateIntPoint(ctx context.Context, in *IntPoint, db gorm1.DB) (*IntPoint, error) {
	if in == nil {
		return nil, fmt.Errorf("Nil argument to DefaultUpdateIntPoint")
	}
	ormObj := ConvertIntPointToORM(*in)
	db.Save(&ormObj)
	pbResponse := ConvertIntPointFromORM(ormObj)
	return &pbResponse, nil
}

// DefaultDeleteIntPoint executes a basic gorm delete call
func DefaultDeleteIntPoint(ctx context.Context, in *IntPoint, db gorm1.DB) error {
	if in == nil {
		return fmt.Errorf("Nil argument to DefaultDeleteIntPoint")
	}
	ormObj := ConvertIntPointToORM(*in)
	db.Where(&ormObj).Delete(&IntPointORM{})
	return nil
}
